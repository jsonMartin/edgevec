# W6D29: HNSW Integration (Thursday)

**Goal:** Wire up the HNSW graph to use the new `u8` storage and metrics.

## Context
The graph algorithm itself doesn't change, but the `dist()` function it calls does.

## Tasks

### 1. Update Distance Interface (W6.4)
- **File:** `src/hnsw/mod.rs`
- **Change:**
    - Inject `VectorStorage` into the distance calculator.
    - Ensure `dist(node_a, node_b)` reads from `quantized_data`.

### 2. Search Pipeline
- `search(query: &[f32])`:
    1. Quantize `query` -> `query_u8`.
    2. Traverse graph using `l2_u8(query_u8, node_u8)`.
    3. (Optional) Re-rank top-K using `original` if available.

### 3. Fuzzing
- Run `FUZZ-001` (Insert) to ensure the new pipeline doesn't panic.

## Deliverables
- [ ] HNSW searching over `u8` vectors.
- [ ] Re-ranking logic (basic).

## Verification
- `cargo fuzz run hnsw_insert`

