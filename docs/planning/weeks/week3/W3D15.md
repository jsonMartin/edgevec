# Week 3 Day 15: Validation & Benchmarking

**Date:** Friday
**Focus:** Proof of Life & Performance Baseline

---

## 1. Context
- **Roadmap:** Milestone 1.1 Completion
- **Metrics:** Recall > 0.95, Latency < 10ms (100k)

## 2. Implementation Tasks

### 2.1 Integration Test Suite
- [ ] Create `tests/integration_hnsw.rs`.
- [ ] Scenario: "The 10k Run".
  - **Dataset:** Uniform Random Distribution (0.0 - 1.0) in 128 dimensions.
  - Insert 10,000 vectors.
  - Search for 100 random queries (also Uniform Random).
  - Validate results against brute-force ground truth.

### 2.2 Benchmarking
- [ ] Create `benches/hnsw_bench.rs`.
- [ ] Benchmark: `insert` latency.
- [ ] Benchmark: `search` latency vs `k` and `ef`.

### 2.3 Memory Audit
- [ ] Measure heap usage after 10k inserts.
- [ ] **Verification:** Ensure `NeighborPool` size ~= expected size (checking that recycling worked).

## 3. Verification Strategy

### 3.1 Metrics
- **Recall:** Count overlap with brute force. Target > 0.95 (Uniform Random).
- **Latency:** P99 must be reasonable (not yet optimized, but <50ms for 10k).

### 3.2 Acceptance Criteria
- [ ] All integration tests pass.
- [ ] Recall > 0.95 for `ef_search=50` on Uniform Random data.
- [ ] No panics under load.
- [ ] `WEEKLY_TASK_PLAN.md` marked COMPLETE.

## 4. Estimates
- **Time:** 8 hours
- **Risk:** Medium (Debugging recall issues can be time consuming).
