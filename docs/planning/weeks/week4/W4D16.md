# EdgeVec Daily Task Guide â€” Day 16 (Week 4)

**Focus:** WASM Project Setup & Basic Exports
**Goal:** Establish the WASM compilation target and export the main class.

---

## 1. Context
We are crossing the boundary. Today we set up the crate to compile to `wasm32-unknown-unknown` and expose the `EdgeVec` handle to JavaScript.

## 2. Dependencies
- `wasm-bindgen`
- `js-sys`
- `web-sys` (features: `console`)
- `getrandom` (feature: `js`)

## 3. Tasks

### T16.1: Config Update
Update `Cargo.toml` with WASM dependencies.
```toml
[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
wasm-bindgen = "0.2"
js-sys = "0.3"
getrandom = { version = "0.2", features = ["js"] }
# ...
```

### T16.2: `EdgeVecConfig` Export
Implement `EdgeVecConfig` struct with `#[wasm_bindgen]`.
- Fields: `dimensions`, `m`, `ef_construction`, `ef_search`.
- Constructor: `new(dimensions: u32)`.

### T16.3: `EdgeVec` Handle
Implement the main `EdgeVec` struct wrapper.
```rust
#[wasm_bindgen]
pub struct EdgeVec {
    inner: edgevec::EdgeVec, // The pure Rust struct
}
```
- Constructor: `new(config: &EdgeVecConfig) -> Result<EdgeVec, JsValue>`.
- **Constraint:** Must return `Result` to handle config errors gracefully.

### T16.4: Console Panic Hook
Add `console_error_panic_hook` in a setup function to route Rust panics to JS console.

## 4. Verification
- Run `wasm-pack build --target web`.
- Create a minimal `index.html` + `index.js` to import and instantiate `EdgeVec`.

